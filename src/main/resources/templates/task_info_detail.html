<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Task Management</title>
    <style>
        table, th, td {
            border: 1px solid black;
            border-collapse: collapse;
        }

        th, td {
            padding: 10px;
        }

        .pagination {
            padding: 20px;
            text-align: center;
        }

        .page-link {
            padding: 8px 16px;
            margin: 5px;
            border: 1px solid #ddd;
            text-decoration: none;
            color: black;
        }

        .page-link:hover {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
<h1>작업 관리</h1>

<h2>작업 목록</h2>
<table>
    <tr>
        <th>ID</th>
        <th>작업 이름</th>
        <th>실행 주기 (분)</th>
        <th>테이블 이름</th>
        <th>활성화 상태</th>
        <th>Insert Flag</th>
        <th>Update Flag</th>
        <th>Delete Flag</th>
    </tr>
    <tr th:each="scheduler : ${schedulers}">
        <td th:text="${scheduler.id}"></td>
        <td th:text="${scheduler.jobName}"></td>
        <td th:text="${scheduler.periodMinutes}"></td>
        <td th:text="${scheduler.tableName}"></td>
        <td th:text="${scheduler.isActive ? 'Yes' : 'No'}"></td>
        <td th:text="${scheduler.insertFlag ? 'Yes' : 'No'}"></td>
        <td th:text="${scheduler.updateFlag ? 'Yes' : 'No'}"></td>
        <td th:text="${scheduler.deleteFlag ? 'Yes' : 'No'}"></td>
    </tr>
</table>

<div class="pagination">
    <a href="#" th:href="@{/tasks(size=${size}, page=${page - 1})}" th:if="${page > 1}" class="page-link">&laquo;
        Previous</a>
    <span th:each="i : ${#numbers.sequence(1, totalPages)}">
        <a href="#" th:href="@{/tasks(size=${size}, page=${i})}" th:text="${i}" class="page-link"></a>
    </span>
    <a href="#" th:href="@{/tasks(size=${size}, page=${page + 1})}" th:if="${page < totalPages}" class="page-link">Next
        &raquo;</a>
</div>

</body>
</html>
